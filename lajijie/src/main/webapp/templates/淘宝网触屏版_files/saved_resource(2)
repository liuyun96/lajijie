!function(a){String.prototype.trim===a&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===a&&(Array.prototype.reduce=function(b){if(void 0===this||null===this)throw new TypeError;var c,d=Object(this),e=d.length>>>0,f=0;if("function"!=typeof b)throw new TypeError;if(0==e&&1==arguments.length)throw new TypeError;if(arguments.length>=2)c=arguments[1];else for(;;){if(f in d){c=d[f++];break}if(++f>=e)throw new TypeError}for(;e>f;)f in d&&(c=b.call(a,c,d[f],f,d)),f++;return c})}();var Zepto=function(){function a(a){return null==a?String(a):W[X.call(a)]||"object"}function b(b){return"function"==a(b)}function c(a){return null!=a&&a==a.window}function d(a){return null!=a&&a.nodeType==a.DOCUMENT_NODE}function e(b){return"object"==a(b)}function f(a){return e(a)&&!c(a)&&a.__proto__==Object.prototype}function g(a){return a instanceof Array}function h(a){return"number"==typeof a.length}function i(a){return E.call(a,function(a){return null!=a})}function j(a){return a.length>0?y.fn.concat.apply([],a):a}function k(a){return a.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(a){return a in H?H[a]:H[a]=new RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a,b){return"number"!=typeof b||J[k(a)]?b:b+"px"}function n(a){var b,c;return G[a]||(b=F.createElement(a),F.body.appendChild(b),c=I(b,"").getPropertyValue("display"),b.parentNode.removeChild(b),"none"==c&&(c="block"),G[a]=c),G[a]}function o(a){return"children"in a?D.call(a.children):y.map(a.childNodes,function(a){return 1==a.nodeType?a:void 0})}function p(a,b,c){for(x in b)c&&(f(b[x])||g(b[x]))?(f(b[x])&&!f(a[x])&&(a[x]={}),g(b[x])&&!g(a[x])&&(a[x]=[]),p(a[x],b[x],c)):b[x]!==w&&(a[x]=b[x])}function q(a,b){return b===w?y(a):y(a).filter(b)}function r(a,c,d,e){return b(c)?c.call(a,d,e):c}function s(a,b,c){null==c?a.removeAttribute(b):a.setAttribute(b,c)}function t(a,b){var c=a.className,d=c&&c.baseVal!==w;return b===w?d?c.baseVal:c:(d?c.baseVal=b:a.className=b,void 0)}function u(a){var b;try{return a?"true"==a||("false"==a?!1:"null"==a?null:isNaN(b=Number(a))?/^[\[\{]/.test(a)?y.parseJSON(a):a:b):a}catch(c){return a}}function v(a,b){b(a);for(var c in a.childNodes)v(a.childNodes[c],b)}var w,x,y,z,A,B,C=[],D=C.slice,E=C.filter,F=window.document,G={},H={},I=F.defaultView.getComputedStyle,J={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},K=/^\s*<(\w+|!)[^>]*>/,L=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,N=["val","css","html","text","data","width","height","offset"],O=["after","prepend","before","append"],P=F.createElement("table"),Q=F.createElement("tr"),R={tr:F.createElement("tbody"),tbody:P,thead:P,tfoot:P,td:Q,th:Q,"*":F.createElement("div")},S=/complete|loaded|interactive/,T=/^\.([\w-]+)$/,U=/^#([\w-]*)$/,V=/^[\w-]+$/,W={},X=W.toString,Y={},Z=F.createElement("div");return Y.matches=function(a,b){if(!a||1!==a.nodeType)return!1;var c=a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.matchesSelector;if(c)return c.call(a,b);var d,e=a.parentNode,f=!e;return f&&(e=Z).appendChild(a),d=~Y.qsa(e,b).indexOf(a),f&&Z.removeChild(a),d},A=function(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})},B=function(a){return E.call(a,function(b,c){return a.indexOf(b)==c})},Y.fragment=function(a,b,c){a.replace&&(a=a.replace(L,"<$1></$2>")),b===w&&(b=K.test(a)&&RegExp.$1),b in R||(b="*");var d,e,g=R[b];return g.innerHTML=""+a,e=y.each(D.call(g.childNodes),function(){g.removeChild(this)}),f(c)&&(d=y(e),y.each(c,function(a,b){N.indexOf(a)>-1?d[a](b):d.attr(a,b)})),e},Y.Z=function(a,b){return a=a||[],a.__proto__=y.fn,a.selector=b||"",a},Y.isZ=function(a){return a instanceof Y.Z},Y.init=function(a,c){if(a){if(b(a))return y(F).ready(a);if(Y.isZ(a))return a;var d;if(g(a))d=i(a);else if(e(a))d=[f(a)?y.extend({},a):a],a=null;else if(K.test(a))d=Y.fragment(a.trim(),RegExp.$1,c),a=null;else{if(c!==w)return y(c).find(a);d=Y.qsa(F,a)}return Y.Z(d,a)}return Y.Z()},y=function(a,b){return Y.init(a,b)},y.extend=function(a){var b,c=D.call(arguments,1);return"boolean"==typeof a&&(b=a,a=c.shift()),c.forEach(function(c){p(a,c,b)}),a},Y.qsa=function(a,b){var c;return d(a)&&U.test(b)?(c=a.getElementById(RegExp.$1))?[c]:[]:1!==a.nodeType&&9!==a.nodeType?[]:D.call(T.test(b)?a.getElementsByClassName(RegExp.$1):V.test(b)?a.getElementsByTagName(b):a.querySelectorAll(b))},y.contains=function(a,b){return a!==b&&a.contains(b)},y.type=a,y.isFunction=b,y.isWindow=c,y.isArray=g,y.isPlainObject=f,y.isEmptyObject=function(a){var b;for(b in a)return!1;return!0},y.inArray=function(a,b,c){return C.indexOf.call(b,a,c)},y.camelCase=A,y.trim=function(a){return a.trim()},y.uuid=0,y.support={},y.expr={},y.map=function(a,b){var c,d,e,f=[];if(h(a))for(d=0;d<a.length;d++)c=b(a[d],d),null!=c&&f.push(c);else for(e in a)c=b(a[e],e),null!=c&&f.push(c);return j(f)},y.each=function(a,b){var c,d;if(h(a)){for(c=0;c<a.length;c++)if(b.call(a[c],c,a[c])===!1)return a}else for(d in a)if(b.call(a[d],d,a[d])===!1)return a;return a},y.grep=function(a,b){return E.call(a,b)},window.JSON&&(y.parseJSON=JSON.parse),y.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){W["[object "+b+"]"]=b.toLowerCase()}),y.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(a){return y(y.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return y(D.apply(this,arguments))},ready:function(a){return S.test(F.readyState)?a(y):F.addEventListener("DOMContentLoaded",function(){a(y)},!1),this},get:function(a){return a===w?D.call(this):this[a>=0?a:a+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(a){return C.every.call(this,function(b,c){return a.call(b,c,b)!==!1}),this},filter:function(a){return b(a)?this.not(this.not(a)):y(E.call(this,function(b){return Y.matches(b,a)}))},add:function(a,b){return y(B(this.concat(y(a,b))))},is:function(a){return this.length>0&&Y.matches(this[0],a)},not:function(a){var c=[];if(b(a)&&a.call!==w)this.each(function(b){a.call(this,b)||c.push(this)});else{var d="string"==typeof a?this.filter(a):h(a)&&b(a.item)?D.call(a):y(a);this.forEach(function(a){d.indexOf(a)<0&&c.push(a)})}return y(c)},has:function(a){return this.filter(function(){return e(a)?y.contains(this,a):y(this).find(a).size()})},eq:function(a){return-1===a?this.slice(a):this.slice(a,+a+1)},first:function(){var a=this[0];return a&&!e(a)?a:y(a)},last:function(){var a=this[this.length-1];return a&&!e(a)?a:y(a)},find:function(a){var b,c=this;return b="object"==typeof a?y(a).filter(function(){var a=this;return C.some.call(c,function(b){return y.contains(b,a)})}):1==this.length?y(Y.qsa(this[0],a)):this.map(function(){return Y.qsa(this,a)})},closest:function(a,b){var c=this[0],e=!1;for("object"==typeof a&&(e=y(a));c&&!(e?e.indexOf(c)>=0:Y.matches(c,a));)c=c!==b&&!d(c)&&c.parentNode;return y(c)},parents:function(a){for(var b=[],c=this;c.length>0;)c=y.map(c,function(a){return(a=a.parentNode)&&!d(a)&&b.indexOf(a)<0?(b.push(a),a):void 0});return q(b,a)},parent:function(a){return q(B(this.pluck("parentNode")),a)},children:function(a){return q(this.map(function(){return o(this)}),a)},contents:function(){return this.map(function(){return D.call(this.childNodes)})},siblings:function(a){return q(this.map(function(a,b){return E.call(o(b.parentNode),function(a){return a!==b})}),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return y.map(this,function(b){return b[a]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=null),"none"==I(this,"").getPropertyValue("display")&&(this.style.display=n(this.nodeName))})},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){var c=b(a);if(this[0]&&!c)var d=y(a).get(0),e=d.parentNode||this.length>1;return this.each(function(b){y(this).wrapAll(c?a.call(this,b):e?d.cloneNode(!0):d)})},wrapAll:function(a){if(this[0]){y(this[0]).before(a=y(a));for(var b;(b=a.children()).length;)a=b.first();y(a).append(this)}return this},wrapInner:function(a){var c=b(a);return this.each(function(b){var d=y(this),e=d.contents(),f=c?a.call(this,b):a;e.length?e.wrapAll(f):d.append(f)})},unwrap:function(){return this.parent().each(function(){y(this).replaceWith(y(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(a){return this.each(function(){var b=y(this);(a===w?"none"==b.css("display"):a)?b.show():b.hide()})},prev:function(a){return y(this.pluck("previousElementSibling")).filter(a||"*")},next:function(a){return y(this.pluck("nextElementSibling")).filter(a||"*")},html:function(a){return a===w?this.length>0?this[0].innerHTML:null:this.each(function(b){var c=this.innerHTML;y(this).empty().append(r(this,a,b,c))})},text:function(a){return a===w?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=a})},attr:function(a,b){var c;return"string"==typeof a&&b===w?0==this.length||1!==this[0].nodeType?w:"value"==a&&"INPUT"==this[0].nodeName?this.val():!(c=this[0].getAttribute(a))&&a in this[0]?this[0][a]:c:this.each(function(c){if(1===this.nodeType)if(e(a))for(x in a)s(this,x,a[x]);else s(this,a,r(this,b,c,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){1===this.nodeType&&s(this,a)})},prop:function(a,b){return b===w?this[0]&&this[0][a]:this.each(function(c){this[a]=r(this,b,c,this[a])})},data:function(a,b){var c=this.attr("data-"+k(a),b);return null!==c?u(c):w},val:function(a){return a===w?this[0]&&(this[0].multiple?y(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(b){this.value=r(this,a,b,this.value)})},offset:function(a){if(a)return this.each(function(b){var c=y(this),d=r(this,a,b,c.offset()),e=c.offsetParent().offset(),f={top:d.top-e.top,left:d.left-e.left};"static"==c.css("position")&&(f.position="relative"),c.css(f)});if(0==this.length)return null;var b=this[0].getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,width:Math.round(b.width),height:Math.round(b.height)}},css:function(b,c){if(arguments.length<2&&"string"==typeof b)return this[0]&&(this[0].style[A(b)]||I(this[0],"").getPropertyValue(b));var d="";if("string"==a(b))c||0===c?d=k(b)+":"+m(b,c):this.each(function(){this.style.removeProperty(k(b))});else for(x in b)b[x]||0===b[x]?d+=k(x)+":"+m(x,b[x])+";":this.each(function(){this.style.removeProperty(k(x))});return this.each(function(){this.style.cssText+=";"+d})},index:function(a){return a?this.indexOf(y(a)[0]):this.parent().children().indexOf(this[0])},hasClass:function(a){return C.some.call(this,function(a){return this.test(t(a))},l(a))},addClass:function(a){return this.each(function(b){z=[];var c=t(this),d=r(this,a,b,c);d.split(/\s+/g).forEach(function(a){y(this).hasClass(a)||z.push(a)},this),z.length&&t(this,c+(c?" ":"")+z.join(" "))})},removeClass:function(a){return this.each(function(b){return a===w?t(this,""):(z=t(this),r(this,a,b,z).split(/\s+/g).forEach(function(a){z=z.replace(l(a)," ")}),t(this,z.trim()),void 0)})},toggleClass:function(a,b){return this.each(function(c){var d=y(this),e=r(this,a,c,t(this));e.split(/\s+/g).forEach(function(a){(b===w?!d.hasClass(a):b)?d.addClass(a):d.removeClass(a)})})},scrollTop:function(){return this.length?"scrollTop"in this[0]?this[0].scrollTop:this[0].scrollY:void 0},position:function(){if(this.length){var a=this[0],b=this.offsetParent(),c=this.offset(),d=M.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(y(a).css("margin-top"))||0,c.left-=parseFloat(y(a).css("margin-left"))||0,d.top+=parseFloat(y(b[0]).css("border-top-width"))||0,d.left+=parseFloat(y(b[0]).css("border-left-width"))||0,{top:c.top-d.top,left:c.left-d.left}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||F.body;a&&!M.test(a.nodeName)&&"static"==y(a).css("position");)a=a.offsetParent;return a})}},y.fn.detach=y.fn.remove,["width","height"].forEach(function(a){y.fn[a]=function(b){var e,f=this[0],g=a.replace(/./,function(a){return a[0].toUpperCase()});return b===w?c(f)?f["inner"+g]:d(f)?f.documentElement["offset"+g]:(e=this.offset())&&e[a]:this.each(function(c){f=y(this),f.css(a,r(this,b,c,f[a]()))})}}),O.forEach(function(b,c){var d=c%2;y.fn[b]=function(){var b,e,f=y.map(arguments,function(c){return b=a(c),"object"==b||"array"==b||null==c?c:Y.fragment(c)}),g=this.length>1;return f.length<1?this:this.each(function(a,b){e=d?b:b.parentNode,b=0==c?b.nextSibling:1==c?b.firstChild:2==c?b:null,f.forEach(function(a){if(g)a=a.cloneNode(!0);else if(!e)return y(a).remove();v(e.insertBefore(a,b),function(a){null==a.nodeName||"SCRIPT"!==a.nodeName.toUpperCase()||a.type&&"text/javascript"!==a.type||a.src||window.eval.call(window,a.innerHTML)})})})},y.fn[d?b+"To":"insert"+(c?"Before":"After")]=function(a){return y(a)[b](this),this}}),Y.Z.prototype=y.fn,Y.uniq=B,Y.deserializeValue=u,y.zepto=Y,y}();window.Zepto=Zepto,"$"in window||(window.$=Zepto),function(a){function b(a){var b=this.os={},c=this.browser={},d=a.match(/WebKit\/([\d.]+)/),e=a.match(/(Android)\s+([\d.]+)/),f=a.match(/(iPad).*OS\s([\d_]+)/),g=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),h=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),i=h&&a.match(/TouchPad/),j=a.match(/Kindle\/([\d.]+)/),k=a.match(/Silk\/([\d._]+)/),l=a.match(/(BlackBerry).*Version\/([\d.]+)/),m=a.match(/(BB10).*Version\/([\d.]+)/),n=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),o=a.match(/PlayBook/),p=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),q=a.match(/Firefox\/([\d.]+)/);(c.webkit=!!d)&&(c.version=d[1]),e&&(b.android=!0,b.version=e[2]),g&&(b.ios=b.iphone=!0,b.version=g[2].replace(/_/g,".")),f&&(b.ios=b.ipad=!0,b.version=f[2].replace(/_/g,".")),h&&(b.webos=!0,b.version=h[2]),i&&(b.touchpad=!0),l&&(b.blackberry=!0,b.version=l[2]),m&&(b.bb10=!0,b.version=m[2]),n&&(b.rimtabletos=!0,b.version=n[2]),o&&(c.playbook=!0),j&&(b.kindle=!0,b.version=j[1]),k&&(c.silk=!0,c.version=k[1]),!k&&b.android&&a.match(/Kindle Fire/)&&(c.silk=!0),p&&(c.chrome=!0,c.version=p[1]),q&&(c.firefox=!0,c.version=q[1]),b.tablet=!!(f||o||e&&!a.match(/Mobile/)||q&&a.match(/Tablet/)),b.phone=!(b.tablet||!(e||g||h||l||m||p&&a.match(/Android/)||p&&a.match(/CriOS\/([\d.]+)/)||q&&a.match(/Mobile/)))}b.call(a,navigator.userAgent),a.__detect=b}(Zepto),function(a){function b(a){return a._zid||(a._zid=n++)}function c(a,c,f,g){if(c=d(c),c.ns)var h=e(c.ns);return(m[b(a)]||[]).filter(function(a){return!(!a||c.e&&a.e!=c.e||c.ns&&!h.test(a.ns)||f&&b(a.fn)!==b(f)||g&&a.sel!=g)})}function d(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function e(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function f(b,c,d){"string"!=a.type(b)?a.each(b,d):b.split(/\s/).forEach(function(a){d(a,c)})}function g(a,b){return a.del&&("focus"==a.e||"blur"==a.e)||!!b}function h(a){return p[a]||a}function i(c,e,i,j,k,l){var n=b(c),o=m[n]||(m[n]=[]);f(e,i,function(b,e){var f=d(b);f.fn=e,f.sel=j,f.e in p&&(e=function(b){var c=b.relatedTarget;return!c||c!==this&&!a.contains(this,c)?f.fn.apply(this,arguments):void 0}),f.del=k&&k(e,b);var i=f.del||e;f.proxy=function(a){var b=i.apply(c,[a].concat(a.data));return b===!1&&(a.preventDefault(),a.stopPropagation()),b},f.i=o.length,o.push(f),c.addEventListener(h(f.e),f.proxy,g(f,l))})}function j(a,d,e,i,j){var k=b(a);f(d||"",e,function(b,d){c(a,b,d,i).forEach(function(b){delete m[k][b.i],a.removeEventListener(h(b.e),b.proxy,g(b,j))})})}function k(b){var c,d={originalEvent:b};for(c in b)s.test(c)||void 0===b[c]||(d[c]=b[c]);return a.each(t,function(a,c){d[a]=function(){return this[c]=q,b[a].apply(b,arguments)},d[c]=r}),d}function l(a){if(!("defaultPrevented"in a)){a.defaultPrevented=!1;var b=a.preventDefault;a.preventDefault=function(){this.defaultPrevented=!0,b.call(this)}}}var m=(a.zepto.qsa,{}),n=1,o={},p={mouseenter:"mouseover",mouseleave:"mouseout"};o.click=o.mousedown=o.mouseup=o.mousemove="MouseEvents",a.event={add:i,remove:j},a.proxy=function(c,d){if(a.isFunction(c)){var e=function(){return c.apply(d,arguments)};return e._zid=b(c),e}if("string"==typeof d)return a.proxy(c[d],c);throw new TypeError("expected function")},a.fn.bind=function(a,b){return this.each(function(){i(this,a,b)})},a.fn.unbind=function(a,b){return this.each(function(){j(this,a,b)})},a.fn.one=function(a,b){return this.each(function(c,d){i(this,a,b,null,function(a,b){return function(){var c=a.apply(d,arguments);return j(d,b,a),c}})})};var q=function(){return!0},r=function(){return!1},s=/^([A-Z]|layer[XY]$)/,t={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};a.fn.delegate=function(b,c,d){return this.each(function(e,f){i(f,c,d,b,function(c){return function(d){var e,g=a(d.target).closest(b,f).get(0);return g?(e=a.extend(k(d),{currentTarget:g,liveFired:f}),c.apply(g,[e].concat([].slice.call(arguments,1)))):void 0}})})},a.fn.undelegate=function(a,b,c){return this.each(function(){j(this,b,c,a)})},a.fn.live=function(b,c){return a(document.body).delegate(this.selector,b,c),this},a.fn.die=function(b,c){return a(document.body).undelegate(this.selector,b,c),this},a.fn.on=function(b,c,d){return!c||a.isFunction(c)?this.bind(b,c||d):this.delegate(c,b,d)},a.fn.off=function(b,c,d){return!c||a.isFunction(c)?this.unbind(b,c||d):this.undelegate(c,b,d)},a.fn.trigger=function(b,c){return("string"==typeof b||a.isPlainObject(b))&&(b=a.Event(b)),l(b),b.data=c,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(b)})},a.fn.triggerHandler=function(b,d){var e,f;return this.each(function(g,h){e=k("string"==typeof b?a.Event(b):b),e.data=d,e.target=h,a.each(c(h,b.type||b),function(a,b){return f=b.proxy(e),e.isImmediatePropagationStopped()?!1:void 0})}),f},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)}}),["focus","blur"].forEach(function(b){a.fn[b]=function(a){return a?this.bind(b,a):this.each(function(){try{this[b]()}catch(a){}}),this}}),a.Event=function(a,b){"string"!=typeof a&&(b=a,a=b.type);var c=document.createEvent(o[a]||"Events"),d=!0;if(b)for(var e in b)"bubbles"==e?d=!!b[e]:c[e]=b[e];return c.initEvent(a,d,!0,null,null,null,null,null,null,null,null,null,null,null,null),c.isDefaultPrevented=function(){return this.defaultPrevented},c}}(Zepto),function(a){function b(b,c,d){var e=a.Event(c);return a(b).trigger(e,d),!e.defaultPrevented}function c(a,c,d,e){return a.global?b(c||s,d,e):void 0}function d(b){b.global&&0===a.active++&&c(b,null,"ajaxStart")}function e(b){b.global&&!--a.active&&c(b,null,"ajaxStop")}function f(a,b){var d=b.context;return b.beforeSend.call(d,a,b)===!1||c(b,d,"ajaxBeforeSend",[a,b])===!1?!1:(c(b,d,"ajaxSend",[a,b]),void 0)}function g(a,b,d){var e=d.context,f="success";d.success.call(e,a,f,b),c(d,e,"ajaxSuccess",[b,d,a]),i(f,b,d)}function h(a,b,d,e){var f=e.context;e.error.call(f,d,b,a),c(e,f,"ajaxError",[d,e,a]),i(b,d,e)}function i(a,b,d){var f=d.context;d.complete.call(f,b,a),c(d,f,"ajaxComplete",[b,d]),e(d)}function j(){}function k(a){return a&&(a=a.split(";",2)[0]),a&&(a==x?"html":a==w?"json":u.test(a)?"script":v.test(a)&&"xml")||"text"}function l(a,b){return(a+"&"+b).replace(/[&?]{1,2}/,"?")}function m(b){b.processData&&b.data&&"string"!=a.type(b.data)&&(b.data=a.param(b.data,b.traditional)),!b.data||b.type&&"GET"!=b.type.toUpperCase()||(b.url=l(b.url,b.data))}function n(b,c,d,e){var f=!a.isFunction(c);return{url:b,data:f?c:void 0,success:f?a.isFunction(d)?d:void 0:c,dataType:f?e||d:d}}function o(b,c,d,e){var f,g=a.isArray(c);a.each(c,function(c,h){f=a.type(h),e&&(c=d?e:e+"["+(g?"":c)+"]"),!e&&g?b.add(h.name,h.value):"array"==f||!d&&"object"==f?o(b,h,d,c):b.add(c,h)})}var p,q,r=0,s=window.document,t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,u=/^(?:text|application)\/javascript/i,v=/^(?:text|application)\/xml/i,w="application/json",x="text/html",y=/^\s*$/;a.active=0,a.ajaxJSONP=function(b){if(!("type"in b))return a.ajax(b);var c,d=b.jsonpCallback||"jsonp"+ ++r,e=s.createElement("script"),i=function(){clearTimeout(c),a(e).remove(),delete window[d]},k=function(a){i(),a&&"timeout"!=a||(window[d]=j),h(null,a||"abort",l,b)},l={abort:k};return f(l,b)===!1?(k("abort"),!1):(window[d]=function(a){i(),g(a,l,b)},e.onerror=function(){k("error")},e.src=b.url.replace(/=\?/,"="+d),a("head").append(e),b.timeout>0&&(c=setTimeout(function(){k("timeout")},b.timeout)),l)},a.ajaxSettings={type:"GET",beforeSend:j,success:j,error:j,complete:j,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:w,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},a.ajax=function(b){var c=a.extend({},b||{});for(p in a.ajaxSettings)void 0===c[p]&&(c[p]=a.ajaxSettings[p]);d(c),c.crossDomain||(c.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(c.url)&&RegExp.$2!=window.location.host),c.url||(c.url=window.location.toString()),m(c),c.cache===!1&&(c.url=l(c.url,"_="+Date.now()));var e=c.dataType,i=/=\?/.test(c.url);if("jsonp"==e||i)return i||(c.url=l(c.url,"callback=?")),a.ajaxJSONP(c);var n,o=c.accepts[e],r={},s=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,t=c.xhr();c.crossDomain||(r["X-Requested-With"]="XMLHttpRequest"),o&&(r.Accept=o,o.indexOf(",")>-1&&(o=o.split(",",2)[0]),t.overrideMimeType&&t.overrideMimeType(o)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&(r["Content-Type"]=c.contentType||"application/x-www-form-urlencoded"),c.headers=a.extend(r,c.headers||{}),t.onreadystatechange=function(){if(4==t.readyState){t.onreadystatechange=j,clearTimeout(n);var b,d=!1;if(t.status>=200&&t.status<300||304==t.status||0==t.status&&"file:"==s){e=e||k(t.getResponseHeader("content-type")),b=t.responseText;try{"script"==e?(1,eval)(b):"xml"==e?b=t.responseXML:"json"==e&&(b=y.test(b)?null:a.parseJSON(b))}catch(f){d=f}d?h(d,"parsererror",t,c):g(b,t,c)}else h(null,t.status?"error":"abort",t,c)}};var u="async"in c?c.async:!0;t.open(c.type,c.url,u);for(q in c.headers)t.setRequestHeader(q,c.headers[q]);return f(t,c)===!1?(t.abort(),!1):(c.timeout>0&&(n=setTimeout(function(){t.onreadystatechange=j,t.abort(),h(null,"timeout",t,c)},c.timeout)),t.send(c.data?c.data:null),t)},a.get=function(){return a.ajax(n.apply(null,arguments))},a.post=function(){var b=n.apply(null,arguments);return b.type="POST",a.ajax(b)},a.getJSON=function(){var b=n.apply(null,arguments);return b.dataType="json",a.ajax(b)},a.fn.load=function(b,c,d){if(!this.length)return this;var e,f=this,g=b.split(/\s/),h=n(b,c,d),i=h.success;return g.length>1&&(h.url=g[0],e=g[1]),h.success=function(b){f.html(e?a("<div>").html(b.replace(t,"")).find(e):b),i&&i.apply(f,arguments)},a.ajax(h),this};var z=encodeURIComponent;a.param=function(a,b){var c=[];return c.add=function(a,b){this.push(z(a)+"="+z(b))},o(c,a,b),c.join("&").replace(/%20/g,"+")}}(Zepto),function(a){a.fn.serializeArray=function(){var b,c=[];return a(Array.prototype.slice.call(this.get(0).elements)).each(function(){b=a(this);var d=b.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=d&&"reset"!=d&&"button"!=d&&("radio"!=d&&"checkbox"!=d||this.checked)&&c.push({name:b.attr("name"),value:b.val()})}),c},a.fn.serialize=function(){var a=[];return this.serializeArray().forEach(function(b){a.push(encodeURIComponent(b.name)+"="+encodeURIComponent(b.value))}),a.join("&")},a.fn.submit=function(b){if(b)this.bind("submit",b);else if(this.length){var c=a.Event("submit");this.eq(0).trigger(c),c.defaultPrevented||this.get(0).submit()}return this}}(Zepto),function(a,b){function c(a){return d(a.replace(/([a-z])([A-Z])/,"$1-$2"))}function d(a){return a.toLowerCase()}function e(a){return f?f+a:d(a)}var f,g,h,i,j,k,l,m,n="",o={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},p=window.document,q=p.createElement("div"),r=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,s={};a.each(o,function(a,c){return q.style[a+"TransitionProperty"]!==b?(n="-"+d(a)+"-",f=c,!1):void 0}),g=n+"transform",s[h=n+"transition-property"]=s[i=n+"transition-duration"]=s[j=n+"transition-timing-function"]=s[k=n+"animation-name"]=s[l=n+"animation-duration"]=s[m=n+"animation-timing-function"]="",a.fx={off:f===b&&q.style.transitionProperty===b,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:e("TransitionEnd"),animationEnd:e("AnimationEnd")},a.fn.animate=function(b,c,d,e){return a.isPlainObject(c)&&(d=c.easing,e=c.complete,c=c.duration),c&&(c=("number"==typeof c?c:a.fx.speeds[c]||a.fx.speeds._default)/1e3),this.anim(b,c,d,e)},a.fn.anim=function(d,e,f,n){var o,p,q,t={},u="",v=this,w=a.fx.transitionEnd;if(e===b&&(e=.4),a.fx.off&&(e=0),"string"==typeof d)t[k]=d,t[l]=e+"s",t[m]=f||"linear",w=a.fx.animationEnd;else{p=[];for(o in d)r.test(o)?u+=o+"("+d[o]+") ":(t[o]=d[o],p.push(c(o)));u&&(t[g]=u,p.push(g)),e>0&&"object"==typeof d&&(t[h]=p.join(", "),t[i]=e+"s",t[j]=f||"linear")}return q=function(b){if("undefined"!=typeof b){if(b.target!==b.currentTarget)return;a(b.target).unbind(w,q)}a(this).css(s),n&&n.call(this)},e>0&&this.bind(w,q),this.size()&&this.get(0).clientLeft,this.css(t),0>=e&&setTimeout(function(){v.each(function(){q.call(this)})},0),this},q=null}(Zepto);!function(a,b){function c(){var a={},b=location.search;if(b){var c=b.slice(1).split("&");if(c.length)for(var d=0;d<c.length;d++)if(c[d]&&-1!=c[d].indexOf("=")){var e=c[d].split("=");a[e[0]]=e[1]}}return a}function d(a){var b=i.createElement("img");b.style.cssText="display:none",b.src=a,i.body.appendChild(b)}function e(a){a=a||{};var b=a.apuri||a.ap_uri;if(b){var c={};c.logtype=2,c.apuri=b,c.cache=parseInt((Math.random()+1)*Date.now());var e=[];for(var f in c)e.push(f+"="+encodeURIComponent(c[f]));d("http://wgo.mmstat.com/sb.1.1?"+e.join("&"))}}function f(){var a=c(),b=a.ttid,d=/[^@]+\@taobao\_(iphone|android|apad|ipad)\_[\d.]+/i;return b=b?decodeURIComponent(b):"",d.test(b)}function g(){return!!a.navigator.userAgent.match(/WindVane/)}function h(){return!!a.navigator.userAgent.match(/AlipayClient/i)}var i=a.document,j=i.cookie.match(/(?:^|\s)cna=([^;]+)(?:;|$)/);j&&(j=j[1]);var k=i.createElement("frame"),l=function(a){var b=this,c=navigator.standalone,d=navigator.userAgent;return null!=d.match(/iPhone|iPod|iPad/i)?(this.platform="ios",this.isIpad=null!=d.match(/iPad/i)):null!=d.match(/Android/i)?null!=d.match(/Mobile/i)&&(this.platform="android",this.isChrome=null!=d.match(/Chrome/i)&&null==d.match(/Version\/\d+\.\d+(\.\d+)?\sChrome\//i)):null!=d.match(/Linux/i)&&(this.platform="android"),!this.platform||c?(this.invaliable=!0,null):(this.init(a)&&(this.create(),window.onblur=function(){clearTimeout(b.timeload),b.timeload=null}),this)};l.prototype={constructor:l,init:function(a){var b=this.options=a,d=b.isInstance||function(){return g()||f()||h()};if(d())return this.invaliable=!0,null;a.version||(a.version="v1"),this.cover=b.cover||!1,this.isDownload=b.download||!1,this.timeout=b.timeout||1e3;var e=b.from||"h5",k=b.crossplat||!1;if("ios"!=this.platform||k){var l=b.url||"http://m.taobao.com/channel/act/sale/tbdl1.html";l+=-1==l.indexOf("?")?"?":"&",l+=location.search.slice(1),this.bannerUrl=l}else this.bannerUrl=b.appstoreUrl||(this.isIpad?"https://itunes.apple.com/app/id438865278":"http://itunes.apple.com/cn/app/id387682726?mt=8");if(b.href){var m=b.href,n=c(),o=i.getElementById("buried"),p=n.ttid||o&&o.value,q=n.refid,r=n.ali_trackid,s=n.pid,t=n.actparam,u=n.actname,v=n.ad_id,w=n.source_type,x={from:e};if(p&&(x.ttid=p),q&&(x.refid=q),r&&(x.ali_trackid=r),s&&(x.pid=s),t&&(x.actparam=t),u&&(x.actname=u),v&&(x.ad_id=v),w&&(x.source_type=w),x.url=encodeURIComponent(location.href.split(/[?#]/)[0]),j&&(x.h5_uid=j),x.ap_uri="",b.point)for(var y in b.point)x[y]=b.point[y];if(x=encodeURIComponent(JSON.stringify(x)),m=m.split("#"),-1==m[0].indexOf("?")?m[0]+="?":m[0].indexOf("?")!=m.length-1&&(m[0]+="&"),m[0]+="point="+x,m=m.join("#"),m=-1!=m.indexOf("://")?m:"taobao://"+m,this.isChrome){var z=m.split("://"),A=z[0],B=z[1],C=b.bag||"com.taobao.taobao";m="intent://"+B+"#Intent;scheme="+A+";package="+C+";end"}this.paramUrl=m}return!0},reset:function(a){this.iClose||(this.init(a),this.resetHtml&&this.resetHtml(a))},create:function(){this.iClose||(k.parentNode||(k.setAttribute("id","J_smartFrame"),k.style.cssText="display:none",i.body.appendChild(k)),this.frame=k)},download:function(b){var c=Date.now();(!b||c-b<this.timeout+200)&&(this.cover?a.location.replace(this.bannerUrl):a.location.href=this.bannerUrl)},redirect:function(b){var c=this.options&&this.options.version,d=this.frame,f=b?"click_sb_"+c+"_manual":"click_sb_"+c+"_auto";this.paramUrl&&(e({ap_uri:f}),this.paramUrl=this.paramUrl.replace("%22ap_uri%22%3A%22%22",encodeURIComponent('"ap_uri":"'+f+'"')),this.isChrome?a.location.href=this.paramUrl:d&&d.setAttribute("src",this.paramUrl))},install:function(a){var b=this,c=Date.now();b.isDownload||(b.timeload=setTimeout(function(){b.download(c)},b.timeout)),b.redirect(a)}},b.smartbanner=function(a){var c=a.type,d=b.smartbanner.BannerUI,e=b.smartbanner.PopUI;if("banner"!==c&&c){if("pop"===c){if(e)return new e(a)}else if("func"===c)return b.smartbanner.getInstance(a)}else if(d)return new d(a)},b.smartbanner.getInstance=function(a,b){b||(b=Object.create({}));for(var c in l.prototype)b[c]=l.prototype[c];return l.call(b,a)},b.smartbanner.aplus=e,b.smartbanner.getParam=c,b.smartbanner.ttidInTaobaoApp=f,b.smartbanner.uaInTaobaoApp=g}(window,window.lib||(window.lib={})),function(a,b){function c(a){var b=document.cookie;if(name=a+"=",start=b.indexOf(name),0>start)return null;start+=name.length;var c=b.indexOf(";",start);return c=-1==c?b.length:c,b.substring(start,c)}function d(){var a=decodeURIComponent(c("imewweoriw"));return a&&a.length>32}function e(a){var b=window.localStorage;if(b){var c=b[a],d=!1;if(c){var c=parseInt(c,10),e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),c>e&&(d=!0)}return d}}function f(a,b){a=a||0;var e=navigator.userAgent,f=j.ali_trackid,g=Boolean(f),h=c("tkmb"),i=h?h.split("&"):null,k=/400000_.*@\w+_(iphone|android)_.*/i,l=/.+@taobao_(iphone|android|apad|ipad)_.+/i,m=j.ttid,n=m?decodeURIComponent(m):"",o=""!=n?!0:!1,p=j.ut_sk,q=p?decodeURIComponent(p):"",r=""!=q?!0:!1,s=q.match(/.+_(\d+)_.+/),t=j.iv,u=k.test(n),v=t&&1==t||i&&"iv=1"===i[1],w="undefined"!=typeof t&&1==t||i&&"iv=0"===i[1],x=g&&null!=f.match(/^1_.+/i)&&("undefined"==typeof b||1==b),y=g&&null!=f.match(/^1_.+/i)&&"undefined"!=typeof b&&0==b,z=!0;(o&&l.test(n)||null!=e.match(/WindVane/))&&(z=!1,!r||null==s||12278902!=s[1]&&21380790!=s[1]||(z=!0)),null!=e.match(/AlipayClient/i)&&(z=!1);var A="000";if(z){var B="1",C="2",D="1",E="1",F="2";u||v||x?B="0":(w||y)&&(B="2"),null!=e.match(/QQ/i)?C="0":null!=e.match(/UCBrowser|UCWeb/i)?C="1":null!=e.match(/Weibo/i)&&(C="3"),d()&&(D="0");var G=c("_w_app_lg"),H=1,I=2;G&&(null!=e.match(/iPhone|iPod/i)&&G&H?E="0":null!=e.match(/Android/i)&&G&I&&(E="0"));var J=document.referrer;u||null!=e.match(/MicroMessenger/i)||null!=J.match(/(t\.sina)|(weibo\.com)|(weibo\.cn)|(sina\.com)|(t\.cn)|(sinaurl)|(3g\.sina)|(iask\.cn)/i)?F="1":(null!=J.match(/(qq|baidu|hao123|google|soso)\.com/i)||null!=J.match(/(m|wap)\.taobao\.com/i)||o&&null!=n.match(/^(12tx0065|b0tx02|eguc01|001001|51uc0003)$/i))&&(F="0");try{A=window.strategy[a][B+C+D+E+F]}catch(K){A="000",console.log(K)}}var L={};return A&&("1"==A.charAt(0)&&(L.isInvoke=!0),"1"==A.charAt(1)&&(L.isShow=!0),"1"==A.charAt(2)&&(L.isInvokeDay=!0)),L}function g(a,b,c){if(a){var d,g=f(b,c);if(g.isInvoke&&(d=d||i(a),d&&d.redirect()),g.isShow&&(d=d||i(a)),g.isInvokeDay&&(d=d||i(a),!e("cloudDate"))){d&&d.redirect();try{localStorage.cloudDate=Date.now()}catch(h){console.log(h)}}return d}}var h=document,i=b.smartbanner,j=(i.aplus,i.getParam()),k=String.fromCharCode(97+parseInt(24*Math.random(),10)),l=k+parseInt(1e7*Math.random(),10).toString(16),m=k+parseInt(100*Math.random(),10).toString(16),n=m+"dsk",o=function(a){a.version="v1",i.getInstance(a,this),this.calClose()||this.invaliable||(this.setParam(a),this.createHtml())};o.prototype={constructor:o,calClose:function(){var a=window.localStorage;if(a){var b=a.closeDate;if(b){var b=parseInt(b,10),c=new Date;c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),b>c&&(this.iClose=!0)}return this.iClose}},setParam:function(a){var b=a.color?"color:"+a.color+";":"",c=a.bgcolor?"background-color:"+a.bgcolor+";":"";this.styles=b+c,this.isHide=a.hide||!1,this.text=a.text||"立即打开",this.title=a.title||"上手机淘宝客户端，保障交易安全",this.isIpad&&(this.title=this.title.replace(/(手机)?淘宝/gi,"淘宝HD"))},template:function(){var a=this.isHide,b=['<div id="'+l+'" class="'+n+'" '+(a?'style="display:none"':"")+">",'<a id="'+l+'-close" class="'+m+'-close" href="#"></a>','<a id="'+l+'-open" class="'+m+'-point" href="#">','<p class="'+m+'-font">','<b class="'+m+'-taobao"></b>',"<span>"+this.title+"</span>",'<b class="'+m+'-dl" style="'+this.styles+'">'+this.text+"</b>","</p>","</a>","</div>"];return b.join("")},resetHtml:function(a){this.setParam(a);var b=['<b class="'+m+'-taobao"></b>',"<span>"+this.title+"</span>",'<b class="'+m+'-dl" style="'+this.styles+'">'+this.text+"</b>"].join("");this.smartDom&&(this.smartDom.querySelector("."+m+"-font").innerHTML=b)},createHtml:function(){if(!this.iClose){var a=this.template(),b=h.createElement("style"),c=h.createElement("div"),d=this.options.dpr||1;c.innerHTML=a,this.smartDom=c.querySelector("#"+l),this.popDom=i({type:"pop",title:this.title,dpr:d}),b.innerHTML="."+n+"{background-color:rgba(66,66,74,0.96);position:fixed;bottom:0;left:0;height:"+68*d+"px;width:100%;font-size:1rem;z-index:1000;font-size:"+14*d+"px}."+m+"-point{color:#fff;display:block;text-decoration:none;height:100%;}."+m+"-close{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA61pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wUmlnaHRzPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvcmlnaHRzLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NUY0MDYzNjgzODIwNjgxMUIzQzJGMTE5OTQ3OTlEMzUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MEVFNkRGMzUxNDdGMTFFMzk0QzNCQ0VGODJBOTdBMTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MEVFNkRGMzQxNDdGMTFFMzk0QzNCQ0VGODJBOTdBMTUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTMyBXaW5kb3dzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InV1aWQ6QzBFQ0RDNjM1RjEwRTMxMUJBQzZBQjEyRDc5RTUwOEIiIHN0UmVmOmRvY3VtZW50SUQ9InV1aWQ6RDE1N0E1MDlBQTBGRTMxMThCRTc4OEMyQUI0QTU3NzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4dUF9zAAADBklEQVR42syYy28ScRDHeQnySgmRaBoCSA+tGqHh0ISoCWcCiQe5efUARzlgCokV/wQInPkjPBgPNjRgND7qK7xiChYwiKTaUoq2iDPJbrL+sssuj9KdZLLZV/LZmfl9Z34rlUgkfomITA6+LCKeE7EBHYsNqCc2oD2xAbXEBrQ7EshqteojkUjY5XKZ8/n8J67nvF7vSjAYfKBWq5vFYvH7FEAVTqDFxUVNOBx+vLCw4DQajdcdDodqa2trm3zO7/df9fl8j1Qq1cWlpaVbcCwWCoXWJCsM/DMnUCwWi+r1+mv0ucFguOJ0OtUA9Y4JA9HZkMlk5/FcKpXK7Xb7zXq9/rzVavXGBPoB3pBx3e10OmXymsViuQ2g9+g0MWFo6/f738AOJohQe6RS53K5jxgRSNkK8zqcL7vdbvPq6updEubo6Gg3mUxGIUKHY8IMwT/wKjWmhw1Ko9FYIT0KEiadTscqlcrPCaKD6aoK6mUIhQWNNcT1DKSpATDRUqm0N+HqwvLYF9xccXWtra1d0ul0l8l7g8HgANIUngLmN5UuTJtEJuQNLGCTyeRmHRfkcn0gELgzhfZ8we8SPH7QOkMWMFnoUOS6bDb7dgLtQRn5KwiI1BlGmnpw7dwMoMpUQfMPaJgmtshgAUPN3DebzQqEIKFI8RxhWMTbgifGUCj0UKlUXiBhUqnUOhYwRgIjwgK10u1289Vq9RcP0GtUC8FAWq22gW0A2wFDZ/5b2mxQzWbzaSaTecYDswNeG2umxgYJAli22Ww3IDLNRCKxziZ6TChQ6CfxeDwtIFVv6GVOmpRv1wE1YWq324fw5SObpcfjsW5ubtYErKosjqpcD/ACzdBwab8kV9VZbYOGlN7wzknzAKI7eV0MG0VMEwplQww71xPwV+BjzdinBYSi+II6nvnefofSmT9n/bNhn2oHNS7RmxcQil0R/D1bbxrXFFO8iympgH+lCngmNglQB7e82EeZk948gY4piA4F0T9NFVUQRTmk6gCbXxd/j9C7gXnZPwEGAGrNPc1RZ9hjAAAAAElFTkSuQmCC) no-repeat;background-size:"+18*d+"px;width:"+20*d+"px;height:"+20*d+"px;position:absolute;left:0;top:0;z-index:10;}."+m+"-font{margin:0;padding:"+20*d+"px "+8*d+"px 0 "+8*d+"px;display:-webkit-box;height:"+32*d+"px;overflow:hidden;-webkit-box-align:center;}."+m+"-font > span{-webkit-box-flex:1;display:block;margin:0 "+12*d+"px;line-height:120%;}."+m+"-taobao{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAABy1BMVEX/////aTL/RAD/aTL/RAD/aTL/ZzD/RAD/aTL/RAD/ZzD/RgL/aTL/RAD//////fz/+/n/+ff/+PX/9/X/9/T/9fH/8+//8+3/8ev/8ez/7ef/7OX/6+P/6eH/6N//5t3/5Nr/4tf/4df/4NX/39P/3dH/3M//287/2cz/18n/1sf/1cX/08P/0cD/0L//z73/zbv/zLn/y7j/y7n/ybX/yLP/xrH/xa//w63/wKn/v6j/vab/vaX/vKP/uZ//uqH/t53/t5v/tZn/tZr/s5f/sZX/sJP/r5H/rY//q43/qYv/p4f/pYX/o4P/oX7/n3z/nXr/nHf/nHj/mXT/mXP/l3H/lW//k2z/lG3/k2v/kWb/kWn/jmb/jWT/jGL/i2D/iV7/iF3/hVj/g1b/glT/gVP/gVT/f1H/fU7/fk7/fEz/e0r/eUj/eEf/dkT/c0D/dEL/cj7/cT7/cDz/bjr/bzr/bTj/bDf/ajT/aTL/ZzD/Zi7/ZS7/ZCz/Yyr/ZCr/Yij/YCb/XiP/XiT/XCD/XCL/Wh7/WBz/Vxr/Vhn/VBj/VBb/UhT/URL/UBD/Tg7/Tgz/TAr/TAv/Sgj/Sgn/SAb/RwT/RgL/RACuODADAAAAmXRSTlMAEREiM0SIiJnM3d3u7v////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+SMNVfAAAACXBIWXMAAAsSAAALEgHS3X78AAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAA8VJREFUWIXNl+lf0zAYxyMiiEqGwgABxaOKk9N5IKhjKsqQgSeHikPEewgqiGwcbqN2sG7OW/9ckzxZmo7hsbzx92J98jzP79s2TdrPEEKbtu4I5aUdRZsR0ZY87QyxBaHN2/L3E8ImVKTiD4WKkNIFhELbUFhR6oAFRakDFhWlDlhSlDpgeQMt3p7fqGQTitj0uPNwxyiLxrCj0fc88kfZAX2YqpOGJ1l4/N8AjxzMhYcikdkyFgVIdnm8t8OtHSCjaq35ytPfAS6AH7dFIr0sODIz7D3CqRlpw3ZAVNJ53tMSXahhwS7ZWZ0J3GHJYwM84B3Xon77SXuuPpkh9aB3J1zYsgRYkQX34F6ZdwpzWcvAjNUwAYQLVgbFbLp3SnPfisXOCr/z4kNbQw/Lli+JBHqfQ2NgLi+nv44ZufQKSvdFAumSQuPs8LqK9tT2P2Dz36XbxKB4QIxtgDPYR37n6mhL1Wu9mR7r39kB8Hi6cgIekkpzWJ89QY47n+lwIzWarMt6LcyzBTCEYntpqe6NYUwcdASMhVq8Xu0GZF3CJQHGYMnVEoLx1DBacvgFoN4CxC0FD8JFv6IDtpT8waALzhgEzcbZBOFKYZIBccPP1smepXg8sps8wEGSa2WGVtEDAKcFWLVprpGWfSSad1UEaIYDRAcAysQ4C7Aa7yJlbXVVnwwGJqn4LUyC5jgAW4C1LBn1GO9eW3uZawoxPr3GAXqmHyWy5SWTkEhMbwBIcIBoXw9ox7gpkZg7xAX70slHvvUAM0tR4uiRxm2sv41ExvjZuGkCwCHq6wB0Ep+bsSmqRTI+xgzHTNNDHvFoBuC0AEm76AaoTCSHWFs/SXBAMklfNk3JJADqhCELMFVBqueSyX7WNiQDgvT4lgMOW4CUrHn24nyRSsEHYpSkOCBleOnxUgoALcKCPkhaZvtRI9EIa+sjEQCO9sI7uZKvg9PCIwNWYDMFSDgJ7YHp6aP2hXAHduPFXIDoflbbmyJxqhpny8NeMC74Yl23AOmMuB/fZKPhLPuJqXScvC/afDB8IWwCENkHpWoTxn7pi9Z0JURT7u5wGtZV/QcL8JEr1g7N/kxiye9pbDjn6Rt5lKAjljM90DT4UQh9Fpqg81Ohf86lMK45daOng3+wWtNWBX2yZHZj3P0pp+7K89FkSBVk65vWorkBZyx75UBarqCvf6XQoLezQXM0uLonTHsFfVGUOuCbov4DwHdFqQN+KEodsF3Nvx0VqwGKUUGpir+0AKHC0p95q7SQ/n0vKC7Jz15STM7/C0WkvAQNIbFkAAAAAElFTkSuQmCC) no-repeat;width:"+30*d+"px;height:"+30*d+"px;display:inline-block;background-size:contain;vertical-align:top;}."+m+"-dl{display:block;color:#3d4245;background-color:#e5e5e5;border-radius:"+5*d+"px;height:"+30*d+"px;line-height:"+30*d+"px;text-align:center;padding:0 "+12*d+"px;font-weight:normal;}",h.body.appendChild(b),h.body.appendChild(this.smartDom),this.listen()}},show:function(){this.iClose||this.smartDom&&(this.smartDom.style.display="block")},hide:function(){this.iClose||this.smartDom&&(this.smartDom.style.display="none")},pop:function(){this.iClose||this.popDom&&this.popDom.open()},listen:function(){if(!this.iClose){var a=this,b=a.smartDom;b.querySelector("#"+l+"-close").addEventListener("click",function(b){b.preventDefault(),a.hide();try{localStorage.closeDate=Date.now(),a.calClose()}catch(b){}},!1),b.querySelector("#"+l+"-open").addEventListener("click",function(b){b.preventDefault(),a.install(!0)})}}},b.smartbanner.expiresInDay=e,b.smartbanner.smtStatus=f,b.smartbanner.sbLogic=g,b.smartbanner.BannerUI=o}(window,window.lib||(window.lib={})),function(a,b){function c(a){return a.preventDefault(),!1}var d,e,f,g,h,i=a.document,j=a.localStorage,k=b.smartbanner,l=(k.aplus,!1),m=['<div class="c-smartpop">','<section class="header">','<a href="javascript:void(0)"></a>',"</section>",'<section class="title">',"<span>淘宝客户端不仅可以更流畅地收藏宝贝，还能分享，立刻下载体验！</span>","</section>",'<section class="banner">','<img border="0"></img>',"</section>",'<section class="action">','<a href="javascript:void(0)">立即打开</a>',"</section>","</div>"].join(""),n=document.createElement("div"),o=document.createElement("style");try{j.setItem("testPrivateModel","false")}catch(p){j=null}var q=function(a){a.version="v2",k.getInstance(a,this),this.title=a.title,this.isIpad&&this.title&&(this.title=this.title.replace(/(手机)?淘宝/gi,"淘宝HD")),this.banner=a.banner};q.prototype={constructor:q,_render:function(){var a=this,b=a.options.dpr||1,c=[".c-smartpop-wrap {","width: 100%;height: 100%;top: 0;left: 0;position: absolute;z-index: 999;background: rgba(0,0,0,0);display: -webkit-box;-webkit-box-pack: center;-webkit-box-align: center;","}",".c-smartpop {","width: 252px * @dpr;background-color: rgba(255,255,255,0.9);border: 1px solid rgba(51,51,51,0.18);-webkit-box-shadow: 0px 1px 8px 0px rgba(0,0,0,0.27);box-shadow: 0px 1px 8px 0px rgba(0,0,0,0.27);border-radius: 4px * @dpr;","}",".c-smartpop .header {","width: 100%;height: 34px * @dpr;position: relative;","}",".c-smartpop .header a {","display: inline-block;width: 14px * @dpr;height: 14px * @dpr;position: absolute;","background: url(data:image/gif;base64,R0lGODlhHAAcAJEAAP///8zMzJmZmWZmZiH5BAAHAP8ALAAAAAAcABwAAAJWjICpyyk2TptMRGAlpdnd3XSKCHra+JVklXJt+C6re6L1NmMxuOalLvH9gMKhbmdEWJDGTFH1edJsSSDrNoVhrzim0vvdWn8+qexl5oarpjE7bHjLAgUAOw==) no-repeat 0 0;","background-size: contain;top: 8px * @dpr;right: 8px * @dpr;opacity: 0.9;-webkit-tap-highlight-color:rgba(0,0,0,0);","}",".c-smartpop .title {","height: 32px * @dpr;line-height: 16px * @dpr;font-size: 12px * @dpr;margin: 0 12px * @dpr 8px * @dpr;padding-left: 36px * @dpr;","background: url(data:image/gif;base64,R0lGODlhOAA4ALMAAP//////zP/MzP/Mmf/MZv+Zmf+ZZv+ZM/+ZAP9mM/9mAP8zAMxmM8xmAAAAAAAAACH5BAAHAP8ALAAAAAA4ADgAAAT/EEgwjGoqY51v3x4nhuRmDFOakF3rvnAsN0kKsHKu79/E8MBgrjYQGo+dwQHJDC6b0Kh0Sq1ar9isdstFGgoGS6cmMKy6L0GqmDGkBBXXIpM4Uws2gDhPKQ8EAXxldkxqNkVuNoZ8fAVQKDaOgYxvAgQFA5MTAk0HeQqQjJZPLombTScSSgqUAI45phKkUYuMhDCRXpxJbwa1YjmHRzUAASuxAAfIJ1/MYBWOtbtCmnoKB4YrrYwKtQFGyNYKBgjd23zmKUfYuRmh36w2MbU3XjZPkJza8jD0nYtFErAzc4CYioIIV/iDcsrTOXQLUUng5PChvIhMIAW8xKxCHmiXpwYUwThsgoVmFc58GqeGDUkjizLck8lPRboJTRbtmhlPHSiTNyVkTLHHZk+ceNR5QxKqWAcbxo5S8vXmSFNxPy0qqjYNyNV6bSwOSBCKHgEhX4GFpQSng4EA0Wzc0hEORoKOzEgVKEiHXlcgZCe8EmKQ0lwgBwLZYytllhNAUAU4RkO5suXLmDNr3mx5MucOB9h8foHiMGeDo1skqGb68uqPnimHThEBADs=) no-repeat 0 center;","background-size: 28px * @dpr 28px * @dpr;color: #666;","}",".c-smartpop .banner {","height: 88px * @dpr;margin: 0 12px * @dpr 10px * @dpr;overflow: hidden;","}",".c-smartpop .banner img {","border: 0px;width: 100%;height: 100%;","}",".c-smartpop .action {","height: 28px * @dpr;text-align: center;margin: 0 auto 12px * @dpr;","}",".c-smartpop .action a {","display: inline-block;height: 28px * @dpr;line-height: 28px * @dpr;background-color: rgb(255,102,0);","border-radius: 3px * @dpr;text-align: center;-webkit-box-shadow: 0px 1px 1px 0px rgba(0,0,0,0.05), inset 0px 1px 3px 0px rgba(169,172,175,0.31);","box-shadow: 0px 1px 1px 0px rgba(0,0,0,0.05), inset 0px 1px 3px 0px rgba(169,172,175,0.31);font-size: 14px * @dpr;","color: #FFF;text-decoration: none;-webkit-tap-highlight-color:rgba(0,0,0,0);margin: 0 10px * @dpr;padding: 0 8px * @dpr;","}",".c-smartpop .action a:hover, .c-smartpop .action a.hover {","background-color: #EF5F00;","}"].join("").replace(/(\d+)px\s+\*\s+\@dpr/gi,function(a,c){return parseFloat(c)*b+"px"});n.className="c-smartpop-wrap",n.innerHTML=m,n.style.cssText="display:none",d=n.querySelector(".c-smartpop"),e=n.querySelector(".header a"),f=n.querySelector(".title span"),g=n.querySelector(".banner"),e_bannerImg=n.querySelector(".banner img"),h=n.querySelector(".action a"),e.addEventListener("click",function(b){b.preventDefault(),j&&j.setItem("smpopCloseDate",Date.now()),a.close()},!1),h.addEventListener("touchstart",function(){h.className="hover"},!1),h.addEventListener("touchend",function(){h.className=""},!1),h.addEventListener("click",function(b){b.preventDefault(),a.install(!0)},!1),o.innerHTML=c,i.body.appendChild(o),i.body.appendChild(n)},_show:function(){var b=this,d=a.scrollY,e=a.innerHeight;f.innerHTML=b.title,b.banner?(g.style.display="",e_bannerImg.setAttribute("src",b.banner)):g.style.display="none",n.style.top=d+"px",n.style.height=e+"px",n.style.display="",n.addEventListener("touchmove",c,!1)},open:function(){if(!this.invaliable){if(j){var a=parseInt(localStorage.getItem("smpopCloseDate")),b=new Date;if(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),a>b.getTime())return}l||(l=!0,this._render()),this._show()}},close:function(){this.invaliable||l&&(n.style.display="none",n.removeEventListener("touchmove",c,!1))}},k.PopUI=q}(window,window.lib||(window.lib={}));!function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p=a.Zepto||a.$,q=!1,r=!1,s={initialize:function(a){function b(){d.css({top:window.innerHeight+window.scrollY-60+"px","-webkit-transition":"none"}),o.css({top:window.scrollY+50+"px"})}if(p("body").attr("notshow"))return s.taojiaHide=function(){},s.taojiaShow=function(){},s.circleHide=function(){},s.circleShow=function(){},!1;var m=this;m._checkSysType=function(){var a="m",b=location.host;return b.match("m.(taobao|tmall|etao|alibaba|alipay|aliyun)")||("localhost"==b||b.match("(?:.*\\.)?waptest\\.(taobao|tmall|etao|alibaba|alipay|aliyun)\\.com.*")?a="m":b.match("(?:.*\\.)?wapa\\.(taobao|tmall|etao|alibaba|alipay|aliyun)\\.com.*")?a="wapa":b.match("(?:.*\\.)?mtest\\.(taobao|tmall|etao|alibaba|alipay|aliyun)\\.com.*")&&(a="mtest")),a}(),m._browser=function(){for(var a=navigator.userAgent,b=["iPhone OS ","Android "],c={iphone:!1,adnroid:!1},d="",e=[],f=0;f<b.length;f++){var g=a.indexOf(b[f]);if(g>-1){switch(f){case 0:c.iphone=!0;break;case 1:c.adnroid=!0}var h=b[f].length;d=a.substr(g+h,6),e=d.split(/_|\./)}}return{iphone:c.iphone,android:c.adnroid,version:parseFloat(e.join("."))}}();var n=function(){var a,b=location.search,c="ttid=",d=/ttid=(\w*)(?: |&|$)/;d.test(b)&&(a=RegExp.$1);var e=a&&"&"+c+a||"";return e}();m._opt=a||{},c=p("body");var q={_generate:function(){var a={};a.s="http://"+m._checkSysType+".taobao.com/channel/act/sale/searchlist.html?pds=search%23h%23taojia"+n,a.cart="http://h5."+m._checkSysType+".taobao.com/awp/base/cart.htm?pds=cart%23h%23taojia"+n+"#!/awp/base/cart.htm",a.my="http://h5."+m._checkSysType+".taobao.com/awp/mtb/mtb.htm?"+n+"#!/awp/mtb/mtb.htm",a.im="http://h5."+m._checkSysType+".taobao.com/ww/index.htm?"+n+"#!lateConts",a.logis="http://h5."+m._checkSysType+".taobao.com/awp/mtb/olist.htm?"+n+"#!/awp/mtb/olist.htm?sta=5",a.more="http://"+m._checkSysType+".taobao.com/channel/chn/mobile/application.html?pds=apply%23h%23taojia"+n,d=p(['<div id="J_Shade" class="none"></div>','<div id="J_Taojia" class="taoplus">','<div class="circle hide">','<div class="tpicons">',"<ul>",'<li class="more"><a dataurl="'+a.more+'"></a><span class="bg"></span></li>','<li class="logis"><a dataurl="'+a.logis+'"></a><span class="bg"></span></li>','<li class="ww"><a dataurl="'+a.im+'"></a><span class="bg"></span></li>','<li class="individ"><a dataurl="'+a.my+'"></a><span class="bg"></span></li>','<li class="car"><a dataurl="'+a.cart+'"></a><span class="bg"></span></li>','<li class="search"><a dataurl="'+a.s+'"></a><span class="bg"></span></li>',"</ul>","</div>",'<div class="tplogo">','<a href="http://m.taobao.com?pds=home%23h%23taojia'+n+'"></a><span class="bg"></span>',"</div>","</div>",'<div class="tpbtn on">',"<div>","<ul>",'<li class="icontao p"></li>',"</ul>","</div>",'<p class="num none">',"</p>","</div>","</div>"].join("")),c.append(d)}};q._generate(),e=p("#J_Taojia"),f=d.find(".tpbtn"),g=d.find(".tpicons a"),h=d.find(".tplogo a"),i=d.find(".circle"),j=f.find(".icontao"),k=f.find("ul"),l=f.find(".num"),o=p("#J_Shade"),m.events(),(m._browser.iphone&&m._browser.version<5||m._browser.android&&m._browser.version<=2.1)&&(o.css({position:"absolute"}),document.addEventListener("touchend",b,!1)),m._browser.android&&m._browser.version>=4.1&&e.css({"-webkit-transform":"translate3d(0, 0, 0)"})},events:function(){function a(){d("click#h#taojia"),1==e.st()?e.circleShow():e.circleHide()}function c(){e.circleHide()}function d(a){var b=a,c=(location.host,e._checkSysType);p.ajax({url:"http://"+c+".taobao.com/monitor.htm?callback=?",type:"get",data:{type:"jsonp",pds:b,t:(new Date).getTime()}})}var e=this;f.on("click",a),p(document).on("touchmove",function(a){q&&a.preventDefault()}),o.on("click",c),g.click(function(){function a(){f=setTimeout(function(){e.circleHide(),setTimeout(function(){window.location.href=d},300),clearTimeout(f)},500)}var c=p(this),d=c.attr("dataurl"),f=null;c.parent().hasClass("ww")&&b.wangxin?b.wangxin.waptowx({fromNick:"",toNick:"",itemId:"",wapwwUrl:d,pageId:"h5_taobao_jia"}):a()})},circleShow:function(){if(!r){var a=this;a._opt.onShow&&a._opt.onShow(),f.removeClass("on").addClass("off"),i.removeClass("hide").addClass("show"),o.removeClass("none"),(a._browser.iphone&&a._browser.version<5||a._browser.android&&a._browser.version<=2.1)&&o.css({top:window.scrollY-10+"px"}),q=!0}},circleHide:function(){if(!r&&!i.hasClass("hide")){r=!0;var a=this;a._opt.onHide&&a._opt.onHide();var a=this;f.removeClass("off").addClass("on"),i.removeClass("show").addClass("hide"),o.animate({opacity:"0"},350,"linear",function(){o.addClass("none"),o.attr("style",""),r=!1,q=!1})}},taojiaHide:function(){var a=this;a.circleHide(),e.hide()},taojiaShow:function(){e.show()},st:function(){return f.hasClass("on")?1:f.hasClass("off")?2:void 0},getmsg:function(){var a=null,b=1,c=!1;fn=function(){var e=k.find("li"),f=e.length,g=k.height(),h=(k.find(".iconact"),k.find(".iconact").length),i=(d.find(".iconww"),d.find(".iconlogis"),k[0].offsetLeft/g);return k.width(f*g),1==f?!1:(i>=0?m&&(l.html(m),c=!0)||l.html(n):c&&l.html(n),k.animate({left:-(h+1)*g},500,"linear",function(){b++,e.eq(b-1).addClass("iconact")}),h+2>=f?(clearTimeout(a),c=!1):a=setTimeout(fn,2e3),void 0)},fn()}};b.taoplus=s}(window,window.lib||(window.lib={}));!function(a,b){function c(a){var b;if("number"==typeof a)b=new Date(1e3*a);else if("string"==typeof a){var c=a.charAt(0),d="+"===c,h="-"===c;if(d||h){for(var i,j=a.substr(1),k=j.split(":"),l=[0,0,0,0],m=4;k.length&&--m>=0;)l[m]=parseInt(k.pop())||0;i=e*l[0]+f*l[1]+g*l[2]+l[3],b=new Date,b.setSeconds(b.getSeconds()+i*(h?-1:1)),b.setMilliseconds(0)}}return b||(b=new Date(a)),b}function d(a,b){return b.replace(FORMATTER_REGEXP,function(b){var c=b.length,d=b.charAt(0);if("\\"===d)return b.replace("\\","");var e=("d"===d?a.days:"h"===d?a.hours:"m"===d?a.minutes:"s"===d?a.seconds:0)+"";return("00000"+e).substr(-Math.max(e.length,c))})}var e=86400,f=3600,g=60,h="d天hh时mm分ss秒";FORMATTER_REGEXP=/(\\)?(dd*|hh?|mm?|ss?)/gi;var i=function(a){a=a||{};var b=this,d=c(a.endDate);if(!d||!d.getTime())throw new Error("Invalid endDate");b.endDate=d,b.onUpdate=a.onUpdate,b.onEnd=a.onEnd,b.interval=a.interval||1e3,b.stringFormatter=a.stringFormatter||h,b.correctDateOffset=a.correctDateOffset||0,b._data={days:0,hours:0,minutes:0,seconds:0}};i.prototype={start:function(){var a=this;return a.stop(),a._update()&&(a._intervalId=setInterval(function(){a._update()},a.interval)),a},_update:function(){var a,b=this,c=b._data,h=+new Date+1e3*b.correctDateOffset,i=Math.max(0,Math.round((b.endDate.getTime()-h)/1e3)),j=0>=i;return c.totalSeconds=i,i-=(c.days=Math.floor(i/e))*e,i-=(c.hours=Math.floor(i/f))*f,i-=(c.minutes=Math.floor(i/g))*g,c.seconds=i,c.stringValue=d(c,b.stringFormatter),(a=b.onUpdate)&&a.call(b,c),j?(b.stop(),(a=b.onEnd)&&a.call(b),!1):!0},stop:function(){var a=this;return a._intervalId&&(clearInterval(a._intervalId),a._intervalId=null),a}},b.countdown=function(a){return new i(a)}}(window,window.lib||(window.lib={}));!function(win,lib){function getParam(a){var b=$("#J_search .cc-search-tab li.cur").html(),c="宝贝"==b?"hbword":"店铺"==b?"hshopword":"tmallword";return c=c+a+"%23h%23search"}var localStorage;try{localStorage=win.localStorage,localStorage.setItem("@private","false")}catch(e){localStorage=null}var $=win.$,queueHandler=function(){var a=this,b=setInterval(function(){if(a.Queue.length>0&&!a.stop){var c=a.Queue.shift();c.fn(c.argument),c.callBack&&c.callBack()}else clearInterval(b)},this.setTimeout)},queue={Queue:[],syncQueue:[],setTimeout:100,add:function(a,b,c){return this.Queue.push({fn:a,argument:b,callBack:c}),this},addSync:function(a,b,c){return this.syncQueue.push({fn:a,argument:b,callBack:c}),this},clear:function(){return this.Queue=[],this},stop:!1,start:function(){return this.stop=!1,this.setTimeout>0&&queueHandler.apply(this),this},shift:function(){},dequeue:function(){var a=this.syncQueue.shift();a&&(a.fn(a.argument),a.callBack&&a.callBack())}};$.fn.autoComplete=function(options){var self=this,setting={ajaxUrl:"http://m.taobao.com",operator:".J_autocomplete",cat:".J_cat",wrapEl:".wrap",meatEl:".meat",childEl:"li",submit:".btn",close:".close",collapse:"collapse",expand:"expand",delay:0,anim:!0,isUseKey:!0,history:!1,localStorage:"searchhistory",clearHistory:"clear",addition:!1,additionClass:".addition",max:7,onFocus:function(){},afterItemClick:function(){},textInput:function(){},onHisLoad:function(){}};$.extend(setting,options||{});var autoComplete={ajax:[],hisList:[],hisIndex:0,onHisLoad:setting.onHisLoad};return $(this).each(function(){function initInput(a){var b,a=a||window.event;if(b=$(this).val().replace(/(^\s+)|(\s+$)/g,""),!b.length&&setting.history)return queue.clear(),queue.add(getHistory),void queue.start();if(13!=a.keyCode&&32!=a.keyCode){setting.textInput.call(this,b.length);var c=self.find("#J_ST"),d=c.attr("name");return c.length>0&&"event_submit_do_search_shop"==d?(self.find(setting.wrapEl).hide(),!1):void("close"!==setting.status&&(queue.clear(),queue.add(getList,b),queue.start()))}}function getList(a){var b=setting.ajaxUrl;autoComplete.ajax.push($.ajax({url:b,type:"GET",dataType:"jsonp",data:"code=utf-8&extras=1&q="+a,error:function(){return!1},success:function(a){pack(a),$close.html("关闭").removeClass("clear")}}))}function getHistory(){var a=autoComplete.hisList[autoComplete.hisIndex];pack(a),$close.html("清除历史记录").addClass("clear")}function clearHistory(){if(setting.localStorage&&localStorage)localStorage.removeItem(setting.localStorage);else{var a="string"==typeof setting.clearHistory?[setting.clearHistory]:setting.clearHistory;queue.clear();for(var b=0;b<a.length;b++)queue.addSync($.ajax,{url:a[b],dataType:"jsonp",success:function(){queue.dequeue()}});queue.dequeue()}autoComplete.hisList=[]}function pack(a){var b=[],c=[],d=[],e=[],f=a&&a.minitao,g=a&&a.cat,h=a&&a.result,i=!1;if(setting.isUseKey&&self.find("#J_IsUseSearchSuggest").val(""),setting.status||(setting.status=a&&a.result&&0===a.result.length?"close":a&&a.status),f){for(var j=0;j<f.length;j++){var k=f[j][0],l=Number(f[j][1]),m=f[j][2];l>=1e4&&(l/=1e4,l=l.toFixed(1)+"万"),c.push('<li class="we" key="'+m+'">'),c.push('<div class="logo we"></div>'),c.push('<div class="title"> <span class="grey name">微淘</span> <span>'+k+'</span> <span class="grey type">'+l+"关注者</span></div>"),c.push('<div class="arrow"></div>'),c.push("</li>")}i=!0}if(g){for(var n=0;n<g.length;n++){var o=g[n][2],p=g[n][1],q=g[n][0];c.push('<li catmap="'+p+'" key="'+o+'">'),c.push('<div class="logo cat"></div>'),c.push('<div class="title"><span>'+o+'</span> <span class="grey name">分类</span> <span class="grey type">'+q+"</span></div>"),c.push('<div class="arrow"></div>'),c.push("</li>")}i=!0}if(a&&0!=a.result&&a.result.length>0){for(var r=h.length>setting.max?setting.max:h.length,j=(setting.addition?"<div class='"+setting.additionClass.slice(1)+"'></div>":"",0);r>j;j++)e.push('<li key="'+h[j][0]+'"><div class="title">'+h[j][0]+"</div></li>");i=!0}return i?(b.push(d.join("")+c.join("")+e.join("")),self.find(setting.meatEl).html(b.join("")),effect(),void 0):void self.find(setting.wrapEl).hide()}function effect(){var a=null;a=setTimeout(function(){setting.anim?self.find(setting.wrapEl).show():self.removeClass(setting.collapse).addClass(setting.expand)},setting.delay),self.find(setting.close).unbind("click"),self.find(setting.childEl).unbind("click"),self.find(setting.close).click(function(){var a=null;a=setTimeout(function(){setting.anim?self.find(setting.wrapEl).hide():self.removeClass(setting.expand).addClass(setting.collapse)},setting.delay),$close.hasClass("clear")&&(logAjax("","clean"),clearHistory())}),self.find(setting.childEl).click(function(){var a=$(this),b=a.attr("key"),c=a.attr("catmap")||"";if(setting.afterItemClick.call(this,Number(a.index())+1),a.hasClass("we"))location.href="http://h5.m.taobao.com/we/index.htm#account/"+b;else{operator.val(b),$(setting.cat).val(c);var d=self.find(setting.submit)[0];d&&d.click()}})}function toTop(){return}function logAjax(a,b){var c="http://log.mmstat.com/search",d=document.cookie,e=d&&d.match("_w_tb_nick=.*"),f=b||"",g=e&&e[0].split(";")[0].split("=")[1]||"",h="smtaobao",i=a||"",j="sug";$.ajax({url:c,data:{op:f,nk:g,src:h,q:i,app:j},error:function(){return console.log("网络连接失败，请刷新页面重试"),!1},success:function(){}})}var self=$(this);if(setting.history)if(setting.localStorage&&localStorage)autoComplete.hisList=eval(localStorage.getItem(setting.localStorage)||[]);else{for(var hisArray="string"==typeof setting.history?[setting.history]:setting.history,i=0;i<hisArray.length;i++)queue.addSync($.ajax,{url:hisArray[i],type:"GET",dataType:"jsonp",error:function(){return console.log("网络连接失败，请刷新页面重试"),!1},success:function(a){autoComplete.hisList.push(a),queue.dequeue()}});queue.addSync(autoComplete.onHisLoad),queue.dequeue()}var operator=$(this).find(setting.operator),$close=self.find(setting.close).addClass("c-btn-grey-small s-btn-grey");operator.attr("autocomplete","off"),operator.on("input",initInput),operator.focus(function(a){var b;return""==$(this).val()&&$(this).val(""),b=$(this).val().replace(/(^\s+)|(\s+$)/g,""),setting.onFocus&&setting.onFocus.call(operator,a,b),0==b.length&&setting.history?(queue.clear(),queue.add(getHistory),void queue.start()):void 0}),setting.addition&&self.find(setting.meatEl).on("touchstart click","div"+setting.additionClass,function(a){var b=$(this);operator.focus(),operator.val(b.parent().attr("key")),initInput.call(operator),a.preventDefault(),a.stopPropagation()}),autoComplete.getHistory=setting.history?function(){queue.clear(),queue.add(getHistory),queue.start()}:function(){},autoComplete.close=function(){if(queue.clear(),autoComplete.ajax.length){for(i=0;i<autoComplete.ajax.length;i++)autoComplete.ajax[i]&&autoComplete.ajax[i].abort();autoComplete.ajax=[]}self.find(setting.wrapEl).hide()},autoComplete.initInput=initInput}),autoComplete},lib.autocomplete={template:['<section id="J_search" class="in-search cc-search showoff">','<div class="cc-search-hide">','<a class="cc-back">关闭</a>','<ul class="cc-search-tab">','<li class="cur" i="event_submit_do_new_search_auction">宝贝</li>','<li i="event_submit_do_search_shop">店铺</li>','<li i="event_submit_do_new_search_tmall_auction">天猫</li>',"</ul>","</div>",'<div id="J_dropdown" class="c-form-suggest">','<div class="c-form-search">','<form id="J_indexform" name="wapSearchForm" action="http://s.m.taobao.com/h5?pds=hbword0%23h%23search" method="get" autocomplete="off">','<input id="J_searchtext" class="inp-search" name="q" value="" autocomplete="off" />','<a id="J_cleartext" class="clearText"><span></span></a>','<input type="submit" value="" name="search-bton" class="bton-search" />','<input type="hidden" id="J_ST" name="event_submit_do_new_search_auction" value="1" />','<input type="hidden" value="utf-8" name="_input_charset" />','<input type="hidden" value="1" name="topSearch" />','<input type="hidden" value="b" name="atype" />','<input type="hidden" value="1" name="searchfrom" />','<input type="hidden" value="home:redirect_app_action" name="action" />','<input type="hidden" value="1" name="from" />','<input type="hidden" name="ttid" />',"</form>","</div>",'<div class="suggest"><ul class="meat"></ul><span class="close">关闭</span></div>',"</div>","</section>"].join(""),init:function(a,b){$(this.template).appendTo(document.body),b||(b={});var c=$("#J_dropdown").autoComplete({ajaxUrl:"http://suggest.taobao.com/sug",wrapEl:".suggest",operator:".inp-search",meatEl:".suggest .meat",close:".suggest .close",submit:".bton-search",addition:!0,anim:!0,history:!0,clearHistory:!0,onFocus:function(){e.val(""),d.removeClass("showoff"),$(a).hide()},textInput:function(){e.val().length?f.css("visibility","visible"):f.css("visibility","hidden")},afterItemClick:function(a){var b=getParam(a);g.attr("action","http://s.m.taobao.com/h5?pds="+b+"&suggest="+encodeURIComponent($(this).text())+"_"+a+"&q="+encodeURIComponent($(this).text()))}}),d=$("#J_search"),e=$("#J_searchtext"),f=$("#J_cleartext"),g=$("#J_indexform"),h=$("#J_ST");e.attr("placeholder",b.title||""),d.on("click","#J_cleartext",function(){e.val(""),f.css("visibility","hidden"),d.find(".suggest").hide()}),d.on("click",".cc-back",function(){d.addClass("showoff"),$(a).show()}),d.on("click",".cc-search-tab li",function(){var a=$(this),b=a.attr("i");if(!a.hasClass("cur"))switch(h[0].setAttribute("name",b),a.addClass("cur").siblings(".cur").removeClass("cur"),g.attr("action","http://s.m.taobao.com/h5?pds="+getParam(0)),a.html()){case"店铺":c.hisIndex=1,c.getHistory();break;case"天猫":c.hisIndex=2,c.getHistory();break;default:c.hisIndex=0,c.getHistory()}}),d.on("submit","#J_indexform",function(){var a=e[0];b.searchkey||(b.searchkey="");var d=a.value?a.value:b.searchkey;if(a.value=d,""===d)return notification.simple("请输入关键字"),!1;if(localStorage){var f="searchhistory";ls=localStorage.getItem(f);var g=ls&&JSON.parse(ls)||[],h=c.hisIndex,i=g.length>h&&g[h]||{result:[]},j=$.map(i.result,function(a,b){return a[0]==d||b>6?null:[a]});j.unshift([d]),i.result=j,g[h]=i,localStorage.setItem(f,JSON.stringify(g))}})}}}(window,window.lib||(window.lib={}));